Проект: Получение списка пользователей , Регистрация и Авторизация через API и Сайт
Описание

Этот проект включает в себя два основных компонента:

API для взаимодействия с системой (регистрация, авторизация, получение информации о пользователе).

Сайт с возможностями регистрации, авторизации и получения информации о пользователе.

На сайте реализованы следующие функции:

Регистрация: создание нового пользователя.

Авторизация: вход в систему с использованием имени пользователя и пароля.

Получение данных о пользователе: отображение информации о пользователе в зависимости от его статуса (залогинен или нет).

API предоставляет те же функции, что и сайт, и поддерживает взаимодействие через HTTP-запросы.

API
1. Регистрация пользователя
URL: /api/register_user
Метод: POST
Описание: Регистрация нового пользователя.

Тело запроса (JSON):

{
  "name": "admi1234",          // Имя пользователя (от 8 до 12 символов, только латинские буквы и цифры)
  "password": "123456789",     // Пароль (от 8 до 12 символов)
  "birth_date": "2006-04-22",  // Дата рождения в формате YYYY-MM-DD
  "gender": "man",             // Пол пользователя (man или woman)
  "full_name": "LupanovKiri"   // Полное имя пользователя
}
Ответ (JSON):

{
  "message": "User registered successfully!"
}
Пример использования:

"""

curl -X POST http://127.0.0.1:5000/api/register_user \
  -H "Content-Type: application/json" \
  -d '{
    "name": "admi1234",
    "password": "123456789",
    "birth_date": "2006-04-22",
    "gender": "man",
    "full_name": "LupanovKiri"
  }'
  
"""
2. Авторизация пользователя
URL: /api/login_user
Метод: POST
Описание: Авторизация пользователя с именем пользователя и паролем.

Тело запроса (JSON):

{
  "name": "admin",       // Имя пользователя
  "password": "1234"     // Пароль
}
Ответ (JSON):

{
  "message": "Login successful!"
}
Пример использования:

"""

curl -b cookies.txt -X POST http://localhost:5000/api/login_user \
  -H "Content-Type: application/json" \
  -d '{
    "name": "admin",
    "password": "1234"
  }'
  
"""

3. Получение информации о пользователе
URL: /api/get_user
Метод: GET
Описание: Получение информации о текущем пользователе. Если пользователь залогинен, возвращается полная информация (включая имя, пол, дату рождения и полное имя). Если пользователь не авторизован, возвращаются только имена пользователей.

Ответ (JSON): Если пользователь не залогинен:

{
  "users": [
    {"name": "admi1234"},
    {"name": "admin"}
  ]
}
Если пользователь залогинен:

{
  "name": "admi1234",
  "birth_date": "2006-04-22",
  "gender": "man",
  "full_name": "LupanovKiri"
}
Пример использования:

"""

curl -b cookies.txt http://localhost:5000/api/get_user

"""

Сайт
Регистрация
Перейдите на страницу /registration.

Заполните форму, указав имя, пароль, дату рождения, пол и полное имя.

Нажмите кнопку Зарегистрироваться.

Если регистрация прошла успешно, вы увидите сообщение, что регистрация завершена, и сможете войти на сайт.

Авторизация
Перейдите на страницу /login.

Введите имя пользователя и пароль.

Нажмите кнопку Войти.

Если авторизация прошла успешно, вы будете перенаправлены на главную страницу.

Получение информации о пользователе
Перейдите на страницу /get_users.

Если вы не авторизованы, вам будут показаны только имена пользователей.

Если вы авторизованы, вам будет показана полная информация о всех пользователях (имя, дата рождения, пол, полное имя).

Тестирование API
Пример регистрации:


"""

curl -X POST http://127.0.0.1:5000/api/register_user \
  -H "Content-Type: application/json" \
  -d '{
    "name": "admi1234",
    "password": "123456789",
    "birth_date": "2006-04-22",
    "gender": "man",
    "full_name": "LupanovKiri"
  }'

"""

Пример авторизации:

"""

curl -b cookies.txt -X POST http://localhost:5000/api/login_user \
  -H "Content-Type: application/json" \
  -d '{
    "name": "admin",
    "password": "1234"
  }'

"""
Пример получения данных о пользователе:


"""

curl -b cookies.txt http://localhost:5000/api/get_user

"""

Технологии
Flask: Фреймворк для создания веб-приложений на Python.

SQLite: База данных для хранения информации о пользователях.

Запуск проекта
Установите все зависимости:


"""

pip install -r requirements.txt

"""

Запустите приложение:


"""

python run.py

"""

Перейдите по адресу http://127.0.0.1:5000 для доступа к сайту или используйте API для взаимодействия с системой.
